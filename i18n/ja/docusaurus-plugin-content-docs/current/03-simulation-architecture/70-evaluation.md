---
sidebar_position: 70
title: 評価コンポーネント
---

評価コンポーネントは、シミュレーションと一緒に実行され、
シミュレーションの挙動をリアルタイムに観察・評価する補助的なコンポーネントです。

MaaS Blender の挙動のすべてをイベントログだけでは完全に再構築できないことがあります。
評価コンポーネントは、シミュレーションに影響を与えずに、そうした情報をその瞬間に記録するために存在します。

## イベント

評価コンポーネントは、システム内のすべてのイベントを消費しますが、自身でイベントを発行することはありません。
実行に影響を与えない純粋な観測専用コンポーネントであることを想定します。

| 消費するイベント | 生成するイベント |
|------------------|------------------|
| `DEMAND`        | _(なし)_         |
| `RESERVE`       |                  |
| `RESERVED`      |                  |
| `DEPART`        |                  |
| `DEPARTED`      |                  |
| `ARRIVED`       |                  |

## 目的と動機

評価コンポーネントの主目的は、事後のイベントをみただけでは分からない分析を可能にすることです。

例えば、ユーザーがあるモビリティサービスの予約に成功したときに、
別の経路候補も同時に予約可能だったかどうかを知りたいことがあります。
こうした情報はシミュレーションの実行時にのみ得られるため、リアルタイムで観測する必要があります。

## 設計上の理由

評価ロジックを評価コンポーネントに実装することで、 分析上の関心事をシミュレーションのロジックと分離できます。
また、複数の評価ロジックを同時に実行することも可能です。
